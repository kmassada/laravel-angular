<div  ng-controller="mainController" class="container">
  <div class="col-md-8 col-md-offset-2">

<!-- PAGE TITLE =============================================== -->
<div class="page-header">
    <h3>Laravel and Angular Task Application</h3>
    <h4>Task System</h4>
</div>

<button type="button" class="btn btn-default" ng-click="createTask = !createTask">Create Task</button>
	<hr>
	<div collapse="createTask">
		<div class="well well-lg">
      <!-- NEW TASK FORM =============================================== -->
      <form ng-submit="submitTask()"> <!-- ng-submit will disable the default form action and use our function -->

          <!-- Title -->
          <div class="form-group">
              <input type="text" class="form-control input-sm" name="title" ng-model="taskData.title" placeholder="Title">
          </div>

          <!-- Notes -->
          <div class="form-group">
              <textarea type="text" class="form-control input-lg" name="notes" ng-model="taskData.notes" placeholder="please add task details">
              </textarea>
          </div>

          <!-- Priority -->
          <div class="form-group">
              <select type="text" class="form-control input-sm" name="priority_id" ng-model="taskData.priority_id">
              <option ng-repeat="option in taskPriorityOptions" value="{{ option.id }}">{{ option.name }}</option>
            </select>
          </div>

          <!-- Tags -->
          <div class="form-group">
              <select name="multipleSelect" class="form-control input-sm" name="tags" ng-model="taskData.tag_list" multiple>
                <option ng-repeat="option in taskTagOptions" value="{{ option.id }}">{{ option.name }}</option>
              </select>
          </div>

          <tt>multipleSelect = {{taskData}}</tt><br/>

          <!-- SUBMIT BUTTON -->
          <div class="form-group text-right">
              <button type="submit" class="btn btn-primary btn-lg">Submit</button>
          </div>
      </form>
	  </div>
  </div>
<!-- LOADING ICON =============================================== -->
<!-- show loading icon if the loading variable is set to true -->
<p class="text-center" ng-show="loading"><span class="fa fa-refresh fa-5x fa-spin"></span></p>

<!-- THE TASKS =============================================== -->
<!-- hide these tasks if the loading variable is true -->
<div class="task" ng-hide="loading" ng-repeat="task in tasks">
    <h3>Task #{{ task.id }}
      <small> {{ task.title }}
        <b ng-repeat="tag in task.tags">{{ tag.name }}, </b>
        <i>--{{  task.priority.name }}--</i>
      </small>
    </h3>
    <p>{{ task.notes }}</p>

    <p><a href="#" ng-click="deleteTask(task.id)" class="text-muted">Delete</a></p>
</div>

</div>
</div>
